{"version":3,"sources":["Components/Modal/Modal.module.css","Components/GalleryApp/GalleryApp.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.jsx","api/PixabayAPI.js","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","Components/Loader/Loader.jsx","Components/GalleryApp/GalleryApp.jsx","index.js","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","onSubmit","className","styles","searchbar","searchForm","type","searchFormButton","searchFormButtonLabel","name","searchFormInput","autoComplete","autoFocus","placeholder","page","perPage","fetchImg","query","requestParams","axios","get","baseUrl","data","incrementPage","this","resetPage","ImageGalleryItem","src","onModalOpen","alt","imageGalleryItem","imageGalleryItemImage","onClick","ImageGallery","listRef","createRef","prevProps","current","window","pageYOffset","imgs","props","scrollToElem","PixabayAPI","children","scrollIntoView","behavior","block","listItem","map","id","webformatURL","largeImageURL","tags","key","ref","imageGallery","Component","Button","onLoadMore","button","Modal","handleKeyPress","e","code","onModalClose","handleBackdropClick","currentTarget","target","addEventListener","removeEventListener","overlay","modal","MyLoader","wrapperLoader","color","height","width","GalleryApp","state","modalIsOpen","isLoading","then","hits","setState","catch","err","console","error","finally","handleLoadMore","handleQueryChange","preventDefault","formInput","value","handleModalOpen","handleModalClose","prevState","galleryApp","length","Loader","App","render","document","getElementById"],"mappings":"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","file":"static/js/main.4cdc469f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__381RK\",\"modal\":\"Modal_modal__31NiG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryApp\":\"GalleryApp_galleryApp__22331\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3dymQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1U5OJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperLoader\":\"Loader_wrapperLoader__74itm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__39wbd\",\"searchForm\":\"Searchbar_searchForm__2naT0\",\"searchFormButton\":\"Searchbar_searchFormButton__3E53N\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__1pyRd\",\"searchFormInput\":\"Searchbar_searchFormInput__3BU5H\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nconst Searchbar = ({ onSubmit }) => (\r\n  <header className={styles.searchbar}>\r\n    <form className={styles.searchForm} onSubmit={onSubmit}>\r\n      <button type=\"submit\" className={styles.searchFormButton}>\r\n        <span className={styles.searchFormButtonLabel}>Search</span>\r\n      </button>\r\n\r\n      <input\r\n        name=\"query\"\r\n        className={styles.searchFormInput}\r\n        type=\"text\"\r\n        autoComplete=\"off\"\r\n        autoFocus\r\n        placeholder=\"Search images and photos\"\r\n      />\r\n    </form>\r\n  </header>\r\n);\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"?key=15581732-f0b235014b6a569c91699f2a7\";\r\n\r\nexport default {\r\n  page: 1,\r\n  perPage: 12,\r\n\r\n  async fetchImg(query) {\r\n    const requestParams = `&q=${query}&page=${this.page}&per_page=${this.perPage}&image_type=all&orientation=horizontal`;\r\n\r\n    const { data } = await axios.get(baseUrl + API_KEY + requestParams);\r\n\r\n    return data;\r\n  },\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ src, onModalOpen, alt }) => (\r\n  <li className={styles.imageGalleryItem}>\r\n    <img\r\n      src={src}\r\n      alt={alt}\r\n      className={styles.imageGalleryItemImage}\r\n      onClick={onModalOpen}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  onModalOpen: PropTypes.func.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component, createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nimport PixabayAPI from \"../../api/PixabayAPI\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    imgs: PropTypes.array.isRequired,\r\n    onModalOpen: PropTypes.func.isRequired,\r\n  };\r\n\r\n  listRef = createRef();\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { current } = this.listRef;\r\n\r\n    if (!window.pageYOffset) return;\r\n\r\n    if (current && prevProps.imgs !== this.props.imgs) {\r\n      const scrollToElem =\r\n        PixabayAPI.page * PixabayAPI.perPage - PixabayAPI.perPage;\r\n\r\n      current.children[scrollToElem].scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"start\",\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { imgs, onModalOpen } = this.props;\r\n    const listItem = imgs.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n      <ImageGalleryItem\r\n        key={id}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        onModalOpen={() => onModalOpen(largeImageURL)}\r\n      />\r\n    ));\r\n\r\n    return (\r\n      <ul ref={this.listRef} className={styles.imageGallery}>\r\n        {listItem}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onLoadMore }) => (\r\n  <button className={styles.button} onClick={onLoadMore}>\r\n    Load More\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    onModalClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = (e) => {\r\n    if (e.code !== \"Escape\") return;\r\n\r\n    this.props.onModalClose();\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget !== e.target) return;\r\n\r\n    this.props.onModalClose();\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n\r\n    return (\r\n      <div className={styles.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.modal}>\r\n          <img src={largeImageURL} alt=\"anything\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./Loader.module.css\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst MyLoader = () => (\r\n  <div className={styles.wrapperLoader}>\r\n    <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\r\n  </div>\r\n);\r\n\r\nexport default MyLoader;\r\n","import React, { Component } from \"react\";\r\n\r\nimport styles from \"./GalleryApp.module.css\";\r\n\r\nimport Searchbar from \"../Searchbar/Searchbar\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport Button from \"../Button/Button\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Loader from \"../Loader/Loader\";\r\n\r\nimport PixabayAPI from \"../../api/PixabayAPI\";\r\n\r\nclass GalleryApp extends Component {\r\n  state = {\r\n    query: \"\",\r\n    imgs: [],\r\n    modalIsOpen: false,\r\n    largeImageURL: \"\",\r\n    isLoading: false,\r\n  };\r\n\r\n  fetchImg = (query) => {\r\n    PixabayAPI.fetchImg(query)\r\n      .then(({ hits }) => this.setState({ imgs: hits }))\r\n      .catch((err) => console.error(err))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { query } = this.state;\r\n\r\n    this.setState({ isLoading: true });\r\n    this.fetchImg(query);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query } = this.state;\r\n\r\n    if (prevState.query !== query) {\r\n      PixabayAPI.resetPage();\r\n\r\n      this.setState({ isLoading: true });\r\n      this.fetchImg(query);\r\n    }\r\n  }\r\n\r\n  handleLoadMore = () => {\r\n    const { query } = this.state;\r\n    PixabayAPI.incrementPage();\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    PixabayAPI.fetchImg(query)\r\n      .then(({ hits }) =>\r\n        this.setState((state) => ({ imgs: [...state.imgs, ...hits] })),\r\n      )\r\n      .catch((err) => console.error(err))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  handleQueryChange = (e) => {\r\n    e.preventDefault();\r\n\r\n    const formInput = e.target.query;\r\n\r\n    this.setState({ query: formInput.value });\r\n    formInput.value = \"\";\r\n  };\r\n\r\n  handleModalOpen = (src) => {\r\n    this.setState({ modalIsOpen: true, largeImageURL: src });\r\n  };\r\n\r\n  handleModalClose = () => {\r\n    this.setState({ modalIsOpen: false, largeImageURL: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { imgs, modalIsOpen, largeImageURL, isLoading } = this.state;\r\n\r\n    return (\r\n      <div className={styles.galleryApp}>\r\n        <Searchbar onSubmit={this.handleQueryChange} />\r\n\r\n        {!!imgs.length && (\r\n          <ImageGallery imgs={imgs} onModalOpen={this.handleModalOpen} />\r\n        )}\r\n\r\n        {!!imgs.length && <Button onLoadMore={this.handleLoadMore} />}\r\n        {modalIsOpen && (\r\n          <Modal\r\n            largeImageURL={largeImageURL}\r\n            onModalClose={this.handleModalClose}\r\n          />\r\n        )}\r\n\r\n        {isLoading && <Loader />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GalleryApp;\r\n","import React from \"react\";\r\nimport { render } from \"react-dom\";\r\n\r\nimport \"./index.css\";\r\n\r\nimport GalleryApp from \"./Components/GalleryApp/GalleryApp\";\r\n\r\nconst App = () => <GalleryApp />;\r\n\r\nrender(<App />, document.getElementById(\"root\"));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2FYbl\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2E9Wi\"};"],"sourceRoot":""}