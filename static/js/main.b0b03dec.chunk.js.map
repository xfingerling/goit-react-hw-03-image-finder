{"version":3,"sources":["Components/Modal/Modal.module.css","Components/GalleryApp/GalleryApp.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.js","api/PixabayAPI.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Modal/Modal.js","Components/GalleryApp/GalleryApp.js","index.js","Components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","onSubmit","className","styles","searchbar","searchForm","type","searchFormButton","searchFormButtonLabel","name","searchFormInput","autoComplete","autoFocus","placeholder","page","perPage","fetchImg","query","requestParams","axios","get","baseUrl","data","incrementPage","this","resetPage","ImageGalleryItem","src","largeImageURL","onModalOpen","imageGalleryItem","alt","imageGalleryItemImage","onClick","ImageGallery","listRef","createRef","prevProps","current","imgs","props","scrollToElem","PixabayAPI","children","scrollIntoView","behavior","block","listItem","map","el","key","id","webformatURL","ref","imageGallery","Component","Button","onLoadMore","button","Modal","handleKeyPress","e","code","onModalClose","handleBackdropClick","currentTarget","target","window","addEventListener","removeEventListener","overlay","modal","GalleryApp","state","modalIsOpen","isLoading","handleLoadMore","then","hits","setState","handleQueryChange","preventDefault","value","handleModalOpen","handleModalClose","prevState","catch","err","console","error","finally","galleryApp","length","color","height","width","App","render","document","getElementById"],"mappings":"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","file":"static/js/main.b0b03dec.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__381RK\",\"modal\":\"Modal_modal__31NiG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryApp\":\"GalleryApp_galleryApp__22331\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3dymQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1U5OJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__39wbd\",\"searchForm\":\"Searchbar_searchForm__2naT0\",\"searchFormButton\":\"Searchbar_searchFormButton__3E53N\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__1pyRd\",\"searchFormInput\":\"Searchbar_searchFormInput__3BU5H\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  return (\r\n    <header className={styles.searchbar}>\r\n      <form className={styles.searchForm} onSubmit={onSubmit}>\r\n        <button type=\"submit\" className={styles.searchFormButton}>\r\n          <span className={styles.searchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          name=\"query\"\r\n          className={styles.searchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"?key=15581732-f0b235014b6a569c91699f2a7\";\r\n\r\nexport default {\r\n  page: 1,\r\n  perPage: 12,\r\n\r\n  async fetchImg(query) {\r\n    const requestParams = `&q=${query}&page=${this.page}&per_page=${this.perPage}&image_type=all&orientation=horizontal`;\r\n\r\n    const { data } = await axios.get(baseUrl + API_KEY + requestParams);\r\n\r\n    return data;\r\n  },\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ src, largeImageURL, onModalOpen }) => {\r\n  function handleClick() {\r\n    onModalOpen(largeImageURL);\r\n  }\r\n\r\n  return (\r\n    <li className={styles.imageGalleryItem}>\r\n      <img\r\n        src={src}\r\n        alt=\"\"\r\n        className={styles.imageGalleryItemImage}\r\n        onClick={handleClick}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  src: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  onModalOpen: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component, createRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nimport PixabayAPI from \"../../api/PixabayAPI\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    imgs: PropTypes.array,\r\n    onModalOpen: PropTypes.func,\r\n  };\r\n\r\n  listRef = createRef();\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { current } = this.listRef;\r\n\r\n    if (current && prevProps.imgs !== this.props.imgs) {\r\n      const scrollToElem =\r\n        PixabayAPI.page * PixabayAPI.perPage - PixabayAPI.perPage;\r\n\r\n      current.children[scrollToElem].scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"start\",\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { imgs, onModalOpen } = this.props;\r\n    const listItem = imgs.map((el) => (\r\n      <ImageGalleryItem\r\n        key={el.id}\r\n        src={el.webformatURL}\r\n        largeImageURL={el.largeImageURL}\r\n        onModalOpen={onModalOpen}\r\n      />\r\n    ));\r\n\r\n    return (\r\n      <ul ref={this.listRef} className={styles.imageGallery}>\r\n        {listItem}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onLoadMore }) => {\r\n  return (\r\n    <button className={styles.button} onClick={onLoadMore}>\r\n      Load More\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    largeImageURL: PropTypes.string,\r\n    onModalClose: PropTypes.func,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = (e) => {\r\n    if (e.code !== \"Escape\") return;\r\n\r\n    this.props.onModalClose();\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget !== e.target) return;\r\n\r\n    this.props.onModalClose();\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n\r\n    return (\r\n      <div className={styles.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.modal}>\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\n\r\nimport styles from \"./GalleryApp.module.css\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nimport Searchbar from \"../Searchbar/Searchbar\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport Button from \"../Button/Button\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nimport PixabayAPI from \"../../api/PixabayAPI\";\r\n\r\nclass GalleryApp extends Component {\r\n  state = {\r\n    query: \"\",\r\n    imgs: [],\r\n    modalIsOpen: false,\r\n    largeImageURL: \"\",\r\n    isLoading: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, imgs } = this.state;\r\n\r\n    if (prevState.query !== query) {\r\n      PixabayAPI.resetPage();\r\n\r\n      this.setState({ isLoading: true });\r\n\r\n      PixabayAPI.fetchImg(query)\r\n        .then(({ hits }) => this.setState({ imgs: hits }))\r\n        .catch((err) => console.error(err))\r\n        .finally(() => this.setState({ isLoading: false }));\r\n    }\r\n\r\n    if (prevState.imgs !== imgs) {\r\n      // window.scrollTo({\r\n      //   top: document.documentElement.scrollHeight,\r\n      //   behavior: \"smooth\",\r\n      // });\r\n    }\r\n  }\r\n\r\n  handleLoadMore = () => {\r\n    const { query } = this.state;\r\n    PixabayAPI.incrementPage();\r\n\r\n    PixabayAPI.fetchImg(query).then(({ hits }) =>\r\n      this.setState((state) => ({ imgs: [...state.imgs, ...hits] })),\r\n    );\r\n  };\r\n\r\n  handleQueryChange = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.setState({ query: e.target.query.value });\r\n    e.target.query.value = \"\";\r\n  };\r\n\r\n  handleModalOpen = (src) => {\r\n    this.setState({ modalIsOpen: true, largeImageURL: src });\r\n  };\r\n\r\n  handleModalClose = () => {\r\n    this.setState({ modalIsOpen: false, largeImageURL: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { imgs, modalIsOpen, largeImageURL, isLoading } = this.state;\r\n\r\n    return (\r\n      <div className={styles.galleryApp}>\r\n        <Searchbar onSubmit={this.handleQueryChange} />\r\n        {imgs.length > 0 && (\r\n          <ImageGallery imgs={imgs} onModalOpen={this.handleModalOpen} />\r\n        )}\r\n        {imgs.length > 0 && <Button onLoadMore={this.handleLoadMore} />}\r\n        {modalIsOpen && (\r\n          <Modal\r\n            largeImageURL={largeImageURL}\r\n            onModalClose={this.handleModalClose}\r\n          />\r\n        )}\r\n        {isLoading && (\r\n          <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={100} width={100} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GalleryApp;\r\n","import React, { Component } from \"react\";\r\nimport { render } from \"react-dom\";\r\n\r\nimport \"./index.css\";\r\n\r\nimport GalleryApp from \"./Components/GalleryApp/GalleryApp\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return <GalleryApp />;\r\n  }\r\n}\r\n\r\nrender(<App />, document.getElementById(\"root\"));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2vmxx\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__31JXL\"};"],"sourceRoot":""}